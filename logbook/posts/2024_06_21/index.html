<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Amy Heather">
<meta name="dcterms.date" content="2024-06-21">

<title>Reproducing Shoaib and Ramamohan 2022 - Day 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../quarto_site/stars_logo_blue.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../quarto_site/stars_logo_blue.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Reproducing Shoaib and Ramamohan 2022</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../quarto_site/study_publication.html"> 
<span class="menu-text">Original study</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-reproduction" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Reproduction</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-reproduction">    
        <li>
    <a class="dropdown-item" href="../../../quarto_site/reproduction_readme.html">
 <span class="dropdown-text">README</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../reproduction/reproduce_tab6.html">
 <span class="dropdown-text">Reproducing table 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-evaluation" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Evaluation</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-evaluation">    
        <li>
    <a class="dropdown-item" href="../../../evaluation/scope.html">
 <span class="dropdown-text">Scope</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../evaluation/reproduction_success.html">
 <span class="dropdown-text">Reproduction success</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../evaluation/badges.html">
 <span class="dropdown-text">Journal badges</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../evaluation/artefacts.html">
 <span class="dropdown-text">STARS framework</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../evaluation/reporting.html">
 <span class="dropdown-text">Reporting guidelines</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../logbook/logbook.html"> 
<span class="menu-text">Logbook</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../evaluation/reproduction_report.html"> 
<span class="menu-text">Summary</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pythonhealthdatascience/stars-reproduce-shoaib-2022"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Day 2</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">scope</div>
                <div class="quarto-category">read</div>
                <div class="quarto-category">reproduce</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Amy Heather </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 21, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#archive-scope-on-zenodo" id="toc-archive-scope-on-zenodo" class="nav-link active" data-scroll-target="#archive-scope-on-zenodo">10.02-10.16: Archive scope on Zenodo</a></li>
  <li><a href="#look-over-code" id="toc-look-over-code" class="nav-link" data-scroll-target="#look-over-code">10.23-10.30 : Look over code</a></li>
  <li><a href="#timings-below-set-up-environment" id="toc-timings-below-set-up-environment" class="nav-link" data-scroll-target="#timings-below-set-up-environment">(Timings below): Set up environment</a></li>
  <li><a href="#running-script-and-returning-to-environment" id="toc-running-script-and-returning-to-environment" class="nav-link" data-scroll-target="#running-script-and-returning-to-environment">11.51-11.57, 12.03-12.37: Running script and returning to environment</a></li>
  <li><a href="#continued-and-got-config1-table6-results-confirmed-match" id="toc-continued-and-got-config1-table6-results-confirmed-match" class="nav-link" data-scroll-target="#continued-and-got-config1-table6-results-confirmed-match">13.17-15.07: Continued and got config1 table6 results (confirmed match)</a></li>
  <li><a href="#second-results-spreadsheet" id="toc-second-results-spreadsheet" class="nav-link" data-scroll-target="#second-results-spreadsheet">15.23-16.17: Second results spreadsheet</a></li>
  <li><a href="#setting-parameter-values-from-notebook" id="toc-setting-parameter-values-from-notebook" class="nav-link" data-scroll-target="#setting-parameter-values-from-notebook">16.22-16.48: Setting parameter values from notebook</a></li>
  <li><a href="#timings" id="toc-timings" class="nav-link" data-scroll-target="#timings">Timings</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/pythonhealthdatascience/stars-reproduce-shoaib-2022/edit/main/logbook/posts/2024_06_21/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/pythonhealthdatascience/stars-reproduce-shoaib-2022/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Built environment and got Table 6 config 1 results. Total time used: 8h 51m (22%)</p>
</div>
</div>
<section id="archive-scope-on-zenodo" class="level2">
<h2 class="anchored" data-anchor-id="archive-scope-on-zenodo">10.02-10.16: Archive scope on Zenodo</h2>
<p>Archiving repository on Zenodo, now that have made consensus decision on scope following:</p>
<ul>
<li>Discussion with Tom yesterday.</li>
<li>Emails with Alison this morning, who also had a look over paper and our planned scope, and confirmed that she felt it looked complete.</li>
</ul>
<p>Before doing so, created entry in CHANGELOG.md and updated CITATION.cff to include myself, Tom and Alison, and to amend the version and title.</p>
</section>
<section id="look-over-code" class="level2">
<h2 class="anchored" data-anchor-id="look-over-code">10.23-10.30 : Look over code</h2>
<ul>
<li>All code in <code>PHC.py</code>.</li>
<li>Salabim.</li>
<li>Model created using classes.</li>
<li>Function <code>main()</code> defines parameters (e.g.&nbsp;number of doctors) and runs model.</li>
<li>No random seed.</li>
<li>Saves results to <code>.xlsx</code> with lots of stats (can spot lots from Table 6). Also outputs the input parameters used.</li>
<li>Can’t spot code for defined scenarios or figures, so anticipating will need to create for self.</li>
</ul>
</section>
<section id="timings-below-set-up-environment" class="level2">
<h2 class="anchored" data-anchor-id="timings-below-set-up-environment">(Timings below): Set up environment</h2>
<p>Timings for this section (provided as list rather than in header as often paused for time spent solving environment):</p>
<ul>
<li>10.31-10.47</li>
<li>11.00-11.01</li>
<li>11.03-11.04</li>
<li>11.12-11.35</li>
</ul>
<p>No environment file provided. Can’t spot Python or Salabim version in the paper, nor in README from <a href="https://github.com/shoaibiocl/PHC-/commit/7739eab050f67a99b050694501b13aca32ab2c6e">prior commit</a>. Therefore:</p>
<ul>
<li>Dependencies from <code>PHC.py</code>
<ul>
<li>Didn’t include random as should be in base</li>
</ul></li>
<li>Model code commit to GitHub on 14th March 2021. Paper first published online with simulation 18th July 2021, and latest arXiv version from 21st June 2021.</li>
<li>Hence, looked for package versions with dates on or prior to the earlier 14th March 2021.
<ul>
<li><a href="https://pypi.org/project/matplotlib/#history" class="uri">https://pypi.org/project/matplotlib/#history</a></li>
<li><a href="https://pypi.org/project/numpy/#history" class="uri">https://pypi.org/project/numpy/#history</a></li>
<li><a href="https://devguide.python.org/versions/" class="uri">https://devguide.python.org/versions/</a></li>
<li><a href="https://pypi.org/project/salabim/#history" class="uri">https://pypi.org/project/salabim/#history</a></li>
<li><a href="https://pypi.org/project/statistics/#history" class="uri">https://pypi.org/project/statistics/#history</a></li>
<li><a href="https://pypi.org/project/XlsxWriter/#history" class="uri">https://pypi.org/project/XlsxWriter/#history</a></li>
</ul></li>
</ul>
<pre><code>name: shoaib2022
channels:
  - defaults
dependencies:
  - matplotlib=3.3.4
  - numpy=1.20.1
  - pip=21.0.1
  - python=3.9
  - statistics=1.0.3.5
  - xlsxwriter=1.3.7
  - xlwt=1.3.0
  - pip:
    - salabim==21.0.2</code></pre>
<p>Spent along time solving environment and looking for incompatable packages (which excluded from timing above). Had lots of conflicts:</p>
<pre><code>UnsatisfiableError: The following specifications were found to be incompatible with each other:

Output in format: Requested package -&gt; Available versions

Package libuuid conflicts for:
xlwt=1.3.0 -&gt; python[version='&gt;=3.11,&lt;3.12.0a0'] -&gt; libuuid[version='&gt;=1.0.3,&lt;2.0a0|&gt;=1.41.5,&lt;2.0a0']
statistics=1.0.3.5 -&gt; python[version='&gt;=3.10,&lt;3.11.0a0'] -&gt; libuuid[version='&gt;=1.0.3,&lt;2.0a0|&gt;=1.41.5,&lt;2.0a0']
xlsxwriter=1.3.7 -&gt; python -&gt; libuuid[version='&gt;=1.0.3,&lt;2.0a0|&gt;=1.41.5,&lt;2.0a0']

Package certifi conflicts for:
pip=21.0.1 -&gt; setuptools -&gt; certifi[version='&gt;=2016.09|&gt;=2016.9.26']
matplotlib=3.3.4 -&gt; matplotlib-base[version='&gt;=3.3.4,&lt;3.3.5.0a0'] -&gt; certifi[version='&gt;=2020.06.20']

Package _libgcc_mutex conflicts for:
numpy=1.20.1 -&gt; libgcc-ng[version='&gt;=7.3.0'] -&gt; _libgcc_mutex[version='*|0.1',build=main]
python=3.9 -&gt; libgcc-ng[version='&gt;=11.2.0'] -&gt; _libgcc_mutex[version='*|0.1',build=main]

Package pip conflicts for:
numpy=1.20.1 -&gt; python[version='&gt;=3.9,&lt;3.10.0a0'] -&gt; pip
xlwt=1.3.0 -&gt; python[version='&gt;=3.11,&lt;3.12.0a0'] -&gt; pip
matplotlib=3.3.4 -&gt; python[version='&gt;=3.7,&lt;3.8.0a0'] -&gt; pip
xlsxwriter=1.3.7 -&gt; python -&gt; pip
pip=21.0.1
python=3.9 -&gt; pip

Package wheel conflicts for:
python=3.9 -&gt; pip -&gt; wheel
pip=21.0.1 -&gt; wheel

Package ca-certificates conflicts for:
xlwt=1.3.0 -&gt; python[version='&gt;=2.7,&lt;2.8.0a0'] -&gt; ca-certificates
python=3.9 -&gt; openssl[version='&gt;=3.0.13,&lt;4.0a0'] -&gt; ca-certificates
statistics=1.0.3.5 -&gt; python[version='&lt;3'] -&gt; ca-certificates
xlsxwriter=1.3.7 -&gt; python -&gt; ca-certificates

Package setuptools conflicts for:
python=3.9 -&gt; pip -&gt; setuptools
matplotlib=3.3.4 -&gt; matplotlib-base[version='&gt;=3.3.4,&lt;3.3.5.0a0'] -&gt; setuptools
pip=21.0.1 -&gt; setuptools

Package numpy conflicts for:
matplotlib=3.3.4 -&gt; matplotlib-base[version='&gt;=3.3.4,&lt;3.3.5.0a0'] -&gt; numpy[version='&gt;=1.16.6,&lt;2.0a0']
numpy=1.20.1The following specifications were found to be incompatible with your system:

  - feature:/linux-64::__glibc==2.35=0
  - feature:|@/linux-64::__glibc==2.35=0
  - numpy=1.20.1 -&gt; libgcc-ng[version='&gt;=7.3.0'] -&gt; __glibc[version='&gt;=2.17']
  - python=3.9 -&gt; libgcc-ng[version='&gt;=11.2.0'] -&gt; __glibc[version='&gt;=2.17']

Your installed version is: 2.35</code></pre>
<p>Instead of going package by package, tried out a simpler approach of changing to only specify the Python version and none of the individual packages. Still found lots of conflicts:</p>
<pre><code>Package expat conflicts for:
numpy -&gt; python[version='&gt;=3.12,&lt;3.13.0a0'] -&gt; expat[version='&gt;=2.5.0,&lt;3.0a0|&gt;=2.6.2,&lt;3.0a0']
xlsxwriter -&gt; python[version='&gt;=3.12,&lt;3.13.0a0'] -&gt; expat[version='&gt;=2.5.0,&lt;3.0a0|&gt;=2.6.2,&lt;3.0a0']
matplotlib -&gt; python[version='&gt;=3.12,&lt;3.13.0a0'] -&gt; expat[version='&gt;=2.5.0,&lt;3.0a0|&gt;=2.6.2,&lt;3.0a0']
pip -&gt; python[version='&gt;=3.12,&lt;3.13.0a0'] -&gt; expat[version='&gt;=2.5.0,&lt;3.0a0|&gt;=2.6.2,&lt;3.0a0']

Package numpy conflicts for:
numpy
matplotlib -&gt; matplotlib-base[version='&gt;=3.8.4,&lt;3.8.5.0a0'] -&gt; numpy[version='&gt;=1.15.4,&lt;2.0a0|&gt;=1.16.6,&lt;2.0a0|&gt;=1.20|&gt;=1.21.5,&lt;2.0a0|&gt;=1.21.6,&lt;2.0a0|&gt;=1.23.5,&lt;2.0a0|&gt;=1.26.4,&lt;2.0a0|&gt;=1.26.0,&lt;2.0a0|&gt;=1.22.3,&lt;2.0a0|&gt;=1.19.2,&lt;2.0a0|&gt;=1.21.2,&lt;2.0a0']
matplotlib -&gt; numpy[version='&gt;=1.14.6,&lt;2.0a0']

Package _libgcc_mutex conflicts for:
matplotlib -&gt; libgcc-ng[version='&gt;=7.3.0'] -&gt; _libgcc_mutex[version='*|0.1',build=main]
numpy -&gt; libgcc-ng[version='&gt;=11.2.0'] -&gt; _libgcc_mutex[version='*|0.1',build=main]
python=3.9 -&gt; libgcc-ng[version='&gt;=11.2.0'] -&gt; _libgcc_mutex[version='*|0.1',build=main]

Package certifi conflicts for:
matplotlib -&gt; tornado -&gt; certifi[version='&gt;=2016.09|&gt;=2016.9.26|&gt;=2020.06.20']
pip -&gt; setuptools -&gt; certifi[version='&gt;=2016.09|&gt;=2016.9.26']

Package python conflicts for:
pip -&gt; python[version='&gt;=2.7,&lt;2.8.0a0|&gt;=3.10,&lt;3.11.0a0|&gt;=3.11,&lt;3.12.0a0|&gt;=3.9,&lt;3.10.0a0|&gt;=3.12,&lt;3.13.0a0|&gt;=3.8,&lt;3.9.0a0|&gt;=3.7,&lt;3.8.0a0|&gt;=3.6,&lt;3.7.0a0|&gt;=3.5,&lt;3.6.0a0']
python=3.9
pip -&gt; wheel -&gt; python
matplotlib -&gt; cycler[version='&gt;=0.10'] -&gt; python[version='&gt;=3|&gt;=3.6']
xlsxwriter -&gt; python[version='&gt;=2.7,&lt;2.8.0a0|&gt;=3.10,&lt;3.11.0a0|&gt;=3.12,&lt;3.13.0a0|&gt;=3.9,&lt;3.10.0a0|&gt;=3.8,&lt;3.9.0a0|&gt;=3.11,&lt;3.12.0a0|&gt;=3.4|&gt;=3.6,&lt;3.7.0a0|&gt;=3.7,&lt;3.8.0a0|&gt;=3.5,&lt;3.6.0a0']
xlwt -&gt; python[version='&gt;=2.7,&lt;2.8.0a0|&gt;=3.10,&lt;3.11.0a0|&gt;=3.11,&lt;3.12.0a0|&gt;=3.9,&lt;3.10.0a0|&gt;=3.8,&lt;3.9.0a0|&gt;=3.7,&lt;3.8.0a0|&gt;=3.6,&lt;3.7.0a0|&gt;=3.5,&lt;3.6.0a0']
statistics -&gt; docutils[version='&gt;=0.3'] -&gt; python[version='&gt;=3.11,&lt;3.12.0a0|&gt;=3.12,&lt;3.13.0a0|&gt;=3.7,&lt;3.8.0a0|&gt;=3.9,&lt;3.10.0a0|&gt;=3.8,&lt;3.9.0a0|&gt;=3.6,&lt;3.7.0a0|&gt;=3.5,&lt;3.6.0a0']
matplotlib -&gt; python[version='&gt;=2.7,&lt;2.8.0a0|&gt;=3.10,&lt;3.11.0a0|&gt;=3.11,&lt;3.12.0a0|&gt;=3.9,&lt;3.10.0a0|&gt;=3.12,&lt;3.13.0a0|&gt;=3.8,&lt;3.9.0a0|&gt;=3.7,&lt;3.8.0a0|&gt;=3.6,&lt;3.7.0a0|&gt;=3.5,&lt;3.6.0a0']
numpy -&gt; python[version='&gt;=2.7,&lt;2.8.0a0|&gt;=3.10,&lt;3.11.0a0|&gt;=3.11,&lt;3.12.0a0|&gt;=3.12,&lt;3.13.0a0|&gt;=3.9,&lt;3.10.0a0|&gt;=3.8,&lt;3.9.0a0|&gt;=3.7,&lt;3.8.0a0|&gt;=3.6,&lt;3.7.0a0|&gt;=3.5,&lt;3.6.0a0']
statistics -&gt; python[version='&lt;3|&gt;=3.10,&lt;3.11.0a0|&gt;=2.7,&lt;2.8.0a0']

Package bzip2 conflicts for:
xlsxwriter -&gt; python[version='&gt;=3.12,&lt;3.13.0a0'] -&gt; bzip2[version='&gt;=1.0.8,&lt;2.0a0']
matplotlib -&gt; python[version='&gt;=3.11,&lt;3.12.0a0'] -&gt; bzip2[version='&gt;=1.0.8,&lt;2.0a0']
numpy -&gt; python[version='&gt;=3.10,&lt;3.11.0a0'] -&gt; bzip2[version='&gt;=1.0.8,&lt;2.0a0']
xlwt -&gt; python[version='&gt;=3.11,&lt;3.12.0a0'] -&gt; bzip2[version='&gt;=1.0.8,&lt;2.0a0']
statistics -&gt; python[version='&gt;=3.10,&lt;3.11.0a0'] -&gt; bzip2[version='&gt;=1.0.8,&lt;2.0a0']
pip -&gt; python[version='&gt;=3.11,&lt;3.12.0a0'] -&gt; bzip2[version='&gt;=1.0.8,&lt;2.0a0']

Package setuptools conflicts for:
python=3.9 -&gt; pip -&gt; setuptools
pip -&gt; setuptools
matplotlib -&gt; setuptools

Package wheel conflicts for:
pip -&gt; wheel
python=3.9 -&gt; pip -&gt; wheelThe following specifications were found to be incompatible with your system:

  - feature:/linux-64::__glibc==2.35=0
  - matplotlib -&gt; libgcc-ng[version='&gt;=7.3.0'] -&gt; __glibc[version='&gt;=2.17']
  - numpy -&gt; libgcc-ng[version='&gt;=11.2.0'] -&gt; __glibc[version='&gt;=2.17']
  - python=3.9 -&gt; libgcc-ng[version='&gt;=11.2.0'] -&gt; __glibc[version='&gt;=2.17']

Your installed version is: 2.35</code></pre>
<p>Based on <a href="https://stackoverflow.com/questions/62288835/how-to-interpret-conda-package-conflicts">this stack overflow post</a>, decided to instead try using mamba.</p>
<pre><code>conda install -n base conda-forge::mamba</code></pre>
<p>But then read that was not recommended so tried -</p>
<pre><code>curl -L -O "https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-$(uname)-$(uname -m).sh"</code></pre>
<p>But that wasn’t working so deleted and tried <a href="https://www.usna.edu/Users/cs/fknoll/SD211/mamba.html">these instructions</a> -</p>
<pre><code>wget https://github.com/conda-forge/miniforge/releases/latest/download/Mambaforge-Linux-x86_64.sh

bash Mambaforge-Linux-x86_64.sh

yes

yes

# Closed terminal then reopened terminal</code></pre>
<p>Then, tried creating environment:</p>
<pre><code>mamba env create -f environment.yml</code></pre>
<p>This returned a more understandable message:</p>
<pre><code>LibMambaUnsatisfiableError: Encountered problems while solving:
  - package statistics-1.0.3.5-py27_1 requires python &gt;=2.7,&lt;2.8.0a0, but none of the providers can be installed

Could not solve for environment specs
The following packages are incompatible
├─ python 3.9**  is requested and can be installed;
└─ statistics is not installable because there are no viable options
   ├─ statistics 1.0.3.5 would require
   │  └─ python [2.7* |&gt;=2.7,&lt;2.8.0a0 ], which conflicts with any installable versions previously reported;
   ├─ statistics 1.0.3.5 would require
   │  └─ python &gt;=3.10,&lt;3.11.0a0 , which conflicts with any installable versions previously reported;
   └─ statistics 1.0.3.5 would require
      └─ python &lt;3 , which conflicts with any installable versions previously reported.</code></pre>
<p>Appears from this message (and supported versions listed on pypi) that would need to switch to python 2.7. Environment then successfully installed, and update .yml to show versions it used.</p>
<pre><code>name: shoaib2022
channels:
  - defaults
dependencies:
  - matplotlib=2.2.3
  - numpy=1.16.6
  - pip=19.3.1
  - python=2.7
  - statistics=1.0.3.5
  - xlsxwriter=3.0.1
  - xlwt=1.3.0
  - pip:
    - salabim==20.0.4</code></pre>
<p>At a glance, all are lower than those I’d previously specified, except xlsxwriter, which is 3.0.1 (10 Aug 2021). As it would not be possible for them to have used this version, I set that to 1.3.7 and rebuilt environment.</p>
<p>This built quickly and with no issue.</p>
</section>
<section id="running-script-and-returning-to-environment" class="level2">
<h2 class="anchored" data-anchor-id="running-script-and-returning-to-environment">11.51-11.57, 12.03-12.37: Running script and returning to environment</h2>
<p>Copied <code>PHC.py</code> into <code>reproduction/</code> and ran file with environment active.</p>
<p><code>ImportError: No module named pathlib.</code> Installed latest version of pathlib (which is from 2014) into environment.</p>
<p>Then error:</p>
<pre><code>Traceback (most recent call last):
  File "/home/amy/Documents/stars/stars-reproduce-shoaib-2022/reproduction/PHC.py", line 1, in &lt;module&gt;
    import salabim as sim
  File "/home/amy/mambaforge/envs/shoaib2022/lib/python2.7/site-packages/salabim/__init__.py", line 1, in &lt;module&gt;
    from .salabim import *
  File "/home/amy/mambaforge/envs/shoaib2022/lib/python2.7/site-packages/salabim/salabim.py", line 9451, in &lt;module&gt;
    class AnimateCombined(collections.UserList):
AttributeError: 'module' object has no attribute 'UserList'</code></pre>
<p>Wanted to just explore basic salabim example first, to check environment is working, so made notebook that just imports salabim. Running required installation of <code>ipykernel</code> in environment. Excluded installation time for this from timings above. Then ran <code>import salabim as sim</code>, but this returned the same error as before just upon import.</p>
<p>Current salabim documentation lists a few different imports that might be required. Went to old documentation on their GitHub, to the 20.0.4 branch then PDF with documentation (which is 20.0.3, but likewise if you go to 20.0.5 branch): <a href="https://github.com/salabim/salabim/blob/20%2C0%2C4/salabim.pdf" class="uri">https://github.com/salabim/salabim/blob/20%2C0%2C4/salabim.pdf</a>. Then ran:</p>
<pre><code>pip install Pillow</code></pre>
<p>Which didn’t have much impact. Error message seems to relate to collections not having UserList. Collections is a built-in module in base python. Tried to just import collections (which was fine), then run <code>collections.UserList</code> which returns same error.</p>
<p>Looking at <a href="https://docs.python.org/2.7/library/collections.html">documentation for Python 2.7.18</a>, collections does not yet have UserList, but it does <a href="https://docs.python.org/3.0/library/collections.html">from 3.0</a>.</p>
<p>Have realised mistake - that statistics on conda/PyPi is an import to allow it to work with 2.7, but actually, statistics is a built-in python module that was introduced in Python 3.4.</p>
<p>As such, deleted environment and removed statistics from the requirements, and just set requirement of Python 3.9 (as tried before) and built using mamba.</p>
<p>Environment prior:</p>
<pre><code>name: shoaib2022
channels:
  - defaults
dependencies:
  - ipykernel=4.10.0
  - matplotlib=2.2.3
  - numpy=1.16.6
  - pathlib=1.0.1
  - pip=19.3.1
  - python=2.7
  - statistics=1.0.3.5
  - xlsxwriter=1.3.7
  - xlwt=1.3.0
  - pip:
    - salabim==20.0.4</code></pre>
<p>Environment tried now:</p>
<pre><code>name: shoaib2022
channels:
  - defaults
dependencies:
  - ipykernel
  - matplotlib
  - numpy
  - pathlib
  - pip
  - python=3.9
  - xlsxwriter
  - xlwt
  - pip:
    - salabim</code></pre>
<p>Run:</p>
<pre><code>conda deactivate
conda remove -n shoaib2022 --all
mamba env create -f environment.yml
conda activate shoaib2022</code></pre>
<p>This quickly installed, and updated environment file with the versions it used:</p>
<pre><code>name: shoaib2022
channels:
  - defaults
dependencies:
  - ipykernel=6.28.0
  - matplotlib=3.8.4
  - numpy=1.26.4
  - pathlib=1.0.1
  - pip=24.0
  - python=3.9.19
  - xlsxwriter=3.1.1
  - xlwt=1.3.0
  - pip:
    - salabim==24.0.6</code></pre>
<p>Can see that several of these are more recent that would have been possible for the paper. But trying import of salabim now works. Decided to try running the script with this environment, just to see if it can work.</p>
<p><code>ModuleNotFoundError: No module named 'greenlet'</code></p>
<p>Can see this was suggested in the salabim documentation. Add greenlet to environment and remade environment with <code>mamba env update -f environment.yml</code>. This add greenlet==3.0.3. Then re-run <code>PHC.py</code>. Got:</p>
<pre><code>Traceback (most recent call last):
  File "/home/amy/Documents/stars/stars-reproduce-shoaib-2022/reproduction/PHC.py", line 1300, in &lt;module&gt;
    main()
  File "/home/amy/Documents/stars/stars-reproduce-shoaib-2022/reproduction/PHC.py", line 932, in main
    Main(name='')
  File "/home/amy/mambaforge/envs/shoaib2022/lib/python3.9/site-packages/salabim/salabim.py", line 7131, in __init__
    raise ValueError(
ValueError: process may not be a generator (contain yield statements.)
Maybe this a non yieldless model. In that case:
- add sim.yieldless(False) or
- remove all yields or
- run salabim_unyield.py</code></pre>
</section>
<section id="continued-and-got-config1-table6-results-confirmed-match" class="level2">
<h2 class="anchored" data-anchor-id="continued-and-got-config1-table6-results-confirmed-match">13.17-15.07: Continued and got config1 table6 results (confirmed match)</h2>
<p>Suspicious my error could be because I’m used versions that are more recent than I know possible. Hence, delete environment and this time rebuild as specified at start but without statistics, but with the new ones I know I need, with versions based on their release history. Exception was ipykernel, as that was something I’ve added to run notebooks, and not something the original study required.</p>
<pre><code>name: shoaib2022
channels:
  - defaults
dependencies:
  - ipykernel
  - matplotlib=3.3.4
  - numpy=1.20.1
  - pathlib=1.0.1
  - pip=21.0.1
  - python=3.9.19
  - xlsxwriter=1.3.7
  - xlwt=1.3.0
  - pip:
    - greenlet==1.0.0
    - salabim==21.0.2</code></pre>
<p>This built fine! So probably would’ve worked to begin with without statistics. Then ran <code>PHC.py</code>, and it started running fine, outputting <code>No of replications done 0</code>, <code>No of replications done 1</code>…</p>
<p>Ensure is set up with correct parameters. Configuration 1 is (from Table 3 and 6):</p>
<ul>
<li>2 doctors: <code>doc_cap = 2</code></li>
<li>4 nurses: <code>staff_nurse_cap = 3</code>, <code>NCD_nurse_cap = 1</code></li>
<li>130 OPD cases, so OPD inter-arrival time 4: <code>OPD_iat = 4</code></li>
<li>0.5 IPD cases, so IPD inter-arrival time 2880: <code>IPD_iat = 2880</code></li>
<li>1 childbirth, so childbirth inter-arrival time 1440: <code>delivery_iat = 1440</code></li>
<li>1 ANC (patients), so ANC inter-arrival time 1440: <code>ANC_iat = 1440</code></li>
<li>6 inpatient beds: <code>bed = sim.Resource("Bed", capacity=6)</code></li>
<li>1 labour room: <code>delivery_bed = sim.Resource("Del bed", capacity = 1)</code></li>
<li>100 replications: <code>replication = 10</code></li>
<li>365 days: <code>days = 365</code></li>
<li>Warm-up 180 days: <code>warm_up = 180*24*60</code></li>
</ul>
<p><strong>Except for number of replications</strong>, all match up to configuration 1.</p>
<p>Produced <code>Outputs.xlsx</code> in main folder, which moved manually to <code>reproduction/</code>, and copied to logbook folder to display below. This ran ten replications, with results in each column.</p>
<div id="bfaeb34e" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xlrd</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>model_path <span class="op">=</span> <span class="st">'Outputs.xls'</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>book <span class="op">=</span> xlrd.open_workbook(model_path)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> pd.read_excel(book, header<span class="op">=</span><span class="va">None</span>, index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
<th data-quarto-table-cell-role="th">4</th>
<th data-quarto-table-cell-role="th">5</th>
<th data-quarto-table-cell-role="th">6</th>
<th data-quarto-table-cell-role="th">7</th>
<th data-quarto-table-cell-role="th">8</th>
<th data-quarto-table-cell-role="th">9</th>
<th data-quarto-table-cell-role="th">10</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">OPD patients</td>
<td>32836.000000</td>
<td>33066.000000</td>
<td>33023.000000</td>
<td>32870.000000</td>
<td>33240.000000</td>
<td>33232.000000</td>
<td>33216.000000</td>
<td>33368.000000</td>
<td>33314.000000</td>
<td>33171.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">IPD patients</td>
<td>174.000000</td>
<td>166.000000</td>
<td>171.000000</td>
<td>177.000000</td>
<td>198.000000</td>
<td>194.000000</td>
<td>206.000000</td>
<td>178.000000</td>
<td>198.000000</td>
<td>178.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ANC patients</td>
<td>368.000000</td>
<td>362.000000</td>
<td>386.000000</td>
<td>380.000000</td>
<td>388.000000</td>
<td>381.000000</td>
<td>372.000000</td>
<td>370.000000</td>
<td>350.000000</td>
<td>355.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Del patients</td>
<td>384.000000</td>
<td>367.000000</td>
<td>369.000000</td>
<td>361.000000</td>
<td>309.000000</td>
<td>360.000000</td>
<td>359.000000</td>
<td>397.000000</td>
<td>385.000000</td>
<td>339.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">OPD Q wt</td>
<td>0.006038</td>
<td>0.008066</td>
<td>0.006059</td>
<td>0.006793</td>
<td>0.005244</td>
<td>0.010225</td>
<td>0.007012</td>
<td>0.016915</td>
<td>0.008484</td>
<td>0.018205</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Pharmacy Q wt</td>
<td>1.047611</td>
<td>1.019909</td>
<td>1.011980</td>
<td>1.016690</td>
<td>1.006467</td>
<td>1.032219</td>
<td>1.020334</td>
<td>1.017687</td>
<td>1.017410</td>
<td>1.003815</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Lab Q wt</td>
<td>2.063080</td>
<td>2.096727</td>
<td>2.121108</td>
<td>1.958464</td>
<td>2.096112</td>
<td>2.160190</td>
<td>2.039157</td>
<td>2.069498</td>
<td>2.135470</td>
<td>2.139755</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">doc occ</td>
<td>0.269761</td>
<td>0.271455</td>
<td>0.265695</td>
<td>0.271491</td>
<td>0.266211</td>
<td>0.269985</td>
<td>0.269385</td>
<td>0.274394</td>
<td>0.270916</td>
<td>0.264823</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Lab patient list</td>
<td>34553.000000</td>
<td>68973.000000</td>
<td>103851.000000</td>
<td>137618.000000</td>
<td>172163.000000</td>
<td>206714.000000</td>
<td>241073.000000</td>
<td>275273.000000</td>
<td>309924.000000</td>
<td>344492.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">OPD q len</td>
<td>0.005855</td>
<td>0.009359</td>
<td>0.004993</td>
<td>0.007724</td>
<td>0.005061</td>
<td>0.011423</td>
<td>0.005998</td>
<td>0.010305</td>
<td>0.010064</td>
<td>0.017429</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ipd occ</td>
<td>0.100000</td>
<td>0.100000</td>
<td>0.100000</td>
<td>0.100000</td>
<td>0.090000</td>
<td>0.100000</td>
<td>0.090000</td>
<td>0.100000</td>
<td>0.100000</td>
<td>0.100000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">opd q len</td>
<td>0.000531</td>
<td>0.000713</td>
<td>0.000535</td>
<td>0.000598</td>
<td>0.000462</td>
<td>0.000909</td>
<td>0.000619</td>
<td>0.001494</td>
<td>0.000751</td>
<td>0.001609</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pharmacy q len</td>
<td>0.091809</td>
<td>0.089833</td>
<td>0.089091</td>
<td>0.089266</td>
<td>0.088519</td>
<td>0.091496</td>
<td>0.089756</td>
<td>0.089564</td>
<td>0.089736</td>
<td>0.088452</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">lab q len</td>
<td>0.093966</td>
<td>0.095058</td>
<td>0.097672</td>
<td>0.087332</td>
<td>0.095604</td>
<td>0.098494</td>
<td>0.092430</td>
<td>0.093381</td>
<td>0.097421</td>
<td>0.097366</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">NCD occ</td>
<td>0.856243</td>
<td>0.876655</td>
<td>0.868920</td>
<td>0.862815</td>
<td>0.875444</td>
<td>0.864627</td>
<td>0.873573</td>
<td>0.882904</td>
<td>0.885179</td>
<td>0.851488</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">lab occ</td>
<td>0.559366</td>
<td>0.552778</td>
<td>0.566939</td>
<td>0.550767</td>
<td>0.558711</td>
<td>0.559475</td>
<td>0.554049</td>
<td>0.557318</td>
<td>0.562513</td>
<td>0.553164</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pharm occ</td>
<td>0.637989</td>
<td>0.643297</td>
<td>0.639525</td>
<td>0.638504</td>
<td>0.644518</td>
<td>0.642726</td>
<td>0.645787</td>
<td>0.647810</td>
<td>0.647879</td>
<td>0.641500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">staff nurse occ</td>
<td>0.328762</td>
<td>0.322683</td>
<td>0.321956</td>
<td>0.321020</td>
<td>0.305951</td>
<td>0.322970</td>
<td>0.323056</td>
<td>0.335735</td>
<td>0.331135</td>
<td>0.312820</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">del occ</td>
<td>0.280000</td>
<td>0.290000</td>
<td>0.300000</td>
<td>0.290000</td>
<td>0.260000</td>
<td>0.290000</td>
<td>0.280000</td>
<td>0.300000</td>
<td>0.300000</td>
<td>0.280000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">del referred</td>
<td>58.000000</td>
<td>53.000000</td>
<td>56.000000</td>
<td>54.000000</td>
<td>44.000000</td>
<td>55.000000</td>
<td>55.000000</td>
<td>62.000000</td>
<td>72.000000</td>
<td>47.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">NCD occ</td>
<td>0.856243</td>
<td>0.876655</td>
<td>0.868920</td>
<td>0.862815</td>
<td>0.875444</td>
<td>0.864627</td>
<td>0.873573</td>
<td>0.882904</td>
<td>0.885179</td>
<td>0.851488</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ipd bed occ</td>
<td>0.101028</td>
<td>0.091502</td>
<td>0.097690</td>
<td>0.092269</td>
<td>0.082897</td>
<td>0.094390</td>
<td>0.091500</td>
<td>0.098772</td>
<td>0.092360</td>
<td>0.090019</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Add <code>xlrd</code> and <code>pandas</code> to environment (quarto and reproduction) so can import the .xls files produced and process them.</p>
<p>Processed this in <code>reproduce.ipynb</code> so can match up results to Table 6 (as use different label names), and calculate proportion of childbirth referred.</p>
<p>Confirmed that values all matched up with only apx. 1% difference at most, which is great!</p>
</section>
<section id="second-results-spreadsheet" class="level2">
<h2 class="anchored" data-anchor-id="second-results-spreadsheet">15.23-16.17: Second results spreadsheet</h2>
<p>There is <code>REPLICATION = xlsxwriter.Workbook("Config_3(2).xlsx")</code> with results that I didn’t get. Tried uncommenting <code>REPLICATION.close()</code> and reran <code>PHC.py</code>.</p>
<p>Also, changed save location of the output files, so they go into <code>reproduction/outputs/</code> rather than main folder, by modifying <code>PHC.py</code>.</p>
<p>In <code>reproduction.ipynb</code>, compared results from that to the processed <code>Outputs.xls</code>. To import <code>.xlsx</code> file using <code>pd.read_excel</code>, had to add <code>openpyxl</code> to environment.</p>
<div id="36440ca6" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>compare <span class="op">=</span> pd.read_csv(<span class="st">'t6_mean_compare.csv'</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>compare</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">t6_outcome</th>
<th data-quarto-table-cell-role="th">simple_outcome</th>
<th data-quarto-table-cell-role="th">full_outcome</th>
<th data-quarto-table-cell-role="th">t6_result</th>
<th data-quarto-table-cell-role="th">simple_result</th>
<th data-quarto-table-cell-role="th">full_result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Doctor utilisation</td>
<td>doc occ</td>
<td>Doctor Occupancy</td>
<td>0.268</td>
<td>0.269412</td>
<td>0.269358</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>NCD Nurse utilisation</td>
<td>NCD occ</td>
<td>NCD Nurse Occupancy</td>
<td>0.865</td>
<td>0.869785</td>
<td>0.860000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Staff nurse utilisation</td>
<td>staff nurse occ</td>
<td>Staff nurse Occupancy</td>
<td>0.323</td>
<td>0.322609</td>
<td>0.330000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Pharmacist utilisation</td>
<td>pharm occ</td>
<td>Pharmacist Occupancy</td>
<td>0.643</td>
<td>0.642954</td>
<td>0.642419</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Lab utilisation</td>
<td>lab occ</td>
<td>Lab Occupancy</td>
<td>0.559</td>
<td>0.557508</td>
<td>0.680000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Inpatient bed utilisation</td>
<td>ipd bed occ</td>
<td>Bed occupancy</td>
<td>0.093</td>
<td>0.093243</td>
<td>0.090000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Labour bed utilisation</td>
<td>del occ</td>
<td>NaN</td>
<td>0.283</td>
<td>0.287000</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Mean length of OPD queue (number of patients)</td>
<td>OPD q len</td>
<td>Mean length of OPD queue</td>
<td>0.000</td>
<td>0.008821</td>
<td>0.000900</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>OPD queue waiting time (minutes)</td>
<td>OPD Q wt</td>
<td>OPD queue waiting time</td>
<td>0.009</td>
<td>0.009304</td>
<td>0.009700</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Mean length of pharmacy queue (number of patie...</td>
<td>pharmacy q len</td>
<td>Mean length of pharmacy queue</td>
<td>0.090</td>
<td>0.089752</td>
<td>0.090000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Pharmacy queue waiting time (minutes)</td>
<td>Pharmacy Q wt</td>
<td>Pharmacy queue waiting time</td>
<td>1.025</td>
<td>1.019412</td>
<td>1.030000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Mean length of Lab queue (number of patients)</td>
<td>lab q len</td>
<td>Mean length of Lab queue</td>
<td>0.094</td>
<td>0.094872</td>
<td>0.100000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Lab queue waiting time (minutes)</td>
<td>Lab Q wt</td>
<td>Lab queue waiting time</td>
<td>2.084</td>
<td>2.087956</td>
<td>2.080000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Fraction of childbirth cases referred</td>
<td>prop_del_referred</td>
<td>NaN</td>
<td>0.156</td>
<td>0.153168</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This had similar results but observations:</p>
<ul>
<li>Different labels again</li>
<li>Also does not have fraction of childbirth cases referred</li>
<li>Can’t spot labour bed utilisation in the larger results table</li>
</ul>
<p>The results are not an exact match but all are likely due to rounding differences. As the outputs one was processed additionally using spreadsheet with replication results, feel its better to use the full results spreadsheet they create, as that works with the raw results (and not potentially rounded results in the spreadsheet).</p>
<p>Match:</p>
<ul>
<li>doctor utilisation</li>
<li>pharmacist utilisation</li>
</ul>
<p>Don’t match:</p>
<ul>
<li>ncd nurse utilisation (rounding?)</li>
<li>staff nurse utilisation (rounding?)</li>
<li>lab utilisation (rounding?)</li>
<li>bed occupancy (rounding?)</li>
<li>mean OPD queue length (rounding as simple results using replication spreadsheet which might have rounding)</li>
<li>OPD queue waiting times (rounding?)</li>
<li>mean pharmacy queue length (rounding?)</li>
<li>pharacy queue waiting tim (rounding?)</li>
<li>lab queue waiting time (rounding?)</li>
</ul>
<p>However, that doesn’t have the standard deviation for all the results included - and its missing labour bed utilisation and fraction of childbirth cases. Also, the full result is potentially more rounded than the reported, and as it was commented out in the <code>.py</code> file originally, that lends me to suspect that results could likely be based on the replication spreadsheet results.</p>
<p><strong>Decision:</strong> Use replication spreadsheet results.</p>
</section>
<section id="setting-parameter-values-from-notebook" class="level2">
<h2 class="anchored" data-anchor-id="setting-parameter-values-from-notebook">16.22-16.48: Setting parameter values from notebook</h2>
<p>In order to run the different scenarios without needing to change the <code>PHC.py</code> itself each time, worked to modify the function <code>main()</code> so that the parameters provided to that function are inputs.</p>
<p>Then ran the model from <code>reproduce.ipynb</code>.</p>
</section>
<section id="timings" class="level2">
<h2 class="anchored" data-anchor-id="timings">Timings</h2>
<div id="b285c490" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>sys.path.append(<span class="st">'../'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> timings <span class="im">import</span> calculate_times</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Minutes used prior to today</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>used_to_date <span class="op">=</span> <span class="dv">239</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Times from today</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>times <span class="op">=</span> [</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'10.02'</span>, <span class="st">'10.16'</span>),</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'10.23'</span>, <span class="st">'10.30'</span>),</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'10.31'</span>, <span class="st">'10.47'</span>),</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'11.00'</span>, <span class="st">'11.01'</span>),</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'11.03'</span>, <span class="st">'11.04'</span>),</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'11.12'</span>, <span class="st">'11.35'</span>),</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'11.51'</span>, <span class="st">'11.57'</span>),</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'12.03'</span>, <span class="st">'12.37'</span>),</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'13.17'</span>, <span class="st">'15.07'</span>),</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'15.23'</span>, <span class="st">'16.17'</span>),</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'16.22'</span>, <span class="st">'16.48'</span>)]</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>calculate_times(used_to_date, times)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time spent today: 292m, or 4h 52m
Total used to date: 531m, or 8h 51m
Time remaining: 1869m, or 31h 9m
Used 22.1% of 40 hours max</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/pythonhealthdatascience\.github\.io\/stars-reproduce-shoaib-2022\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="https://github.com/pythonhealthdatascience"><img src="https://raw.githubusercontent.com/pythonhealthdatascience/stars-logo/main/stars_logo_blue_text.png" class="img-fluid" alt="STARS" width="300"></a></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../CHANGELOG.html">
<p>Changelog</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../../quarto_site/license.html">
<p>License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../../CONTRIBUTING.html">
<p>Contributing</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/pythonhealthdatascience/stars-reproduce-shoaib-2022/edit/main/logbook/posts/2024_06_21/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/pythonhealthdatascience/stars-reproduce-shoaib-2022/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pythonhealthdatascience/stars-reproduce-shoaib-2022">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>